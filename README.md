# Задание соискателям на должность разработчика Python
Решение заданий отправлять на адрес Евгении Лушиной <e-lushina@it-serv.ru> в виде архива проекта, либо в виде ссылки на собственный репозиторий.
Делать форки и ветки от текущего проекта не рекомендуется. 

Дополнительное задание выполнять не обязательно, но будет плюсом.

# Задание
Разработать тесты с использованием стандартной библиотеки 
[unittest](https://docs.python.org/3/library/unittest.html "Unit testing framework").
При необходимости исправить ошибки.

Наличие предложений по доработке приветствуется.

# Дополнительное задание
Разработать [Docker Compose](https://docs.docker.com/compose/ "Overview of Docker Compose") для запуска стека 
[ELK](https://www.elastic.co/what-is/elk-stack "ELK Stack") и [Jaeger](https://www.jaegertracing.io/ "Jaeger"). 
Jaeger должен разворачиваться отдельными компонентами (agent, collector и query) и подключаться к Elasticsearch 
из стека ELK.

Настроить Logstash для приема логов из приложения.

Подготовить тестовый пример формирующий лог и трассировку.

# Резюме проделанной работы
Написаны базовые юниттесты. Часть нормально написать не удалось, докстринги приложены.
Собран docker-compose стек, где настроен elk+приложение питона. Приложение шлет моковые данные каждую минуту.
Для отправки тестовых данных используется приготовленный AsynchronousLogstashHandler.
На jaeger стек уже не хватает сил и времени. Так же как и на доделку юниттестов для проверки работы метода init_logstash_logger.
UPD: Внесены минимальные изменения в код. Убраны лишние строки, поправлено неоптимальное обозначение констант. Поведение хендлеров теперь больше соответствует их названию, но пришлось убрать один тест. Его можно посмотреть на коммите f4a51eec3abda1af60b93c8f805ed0671eaf8e10

# Запуск стека docker-compose
Переименовать env_example в .env, заполнить актуальными данными. После этого:
```sh
docker-compose up -d
```
Команда может отличаться в зависимости от версии докера и плагина compose. Альтернатива:
```sh
docker compose up -d
```
После запуска стека зайти в kibana web ui:
```sh
http://localhost:5601
```
Переходим в раздел Analytics -> Discover. Выбираем нужный data view (или ES|QL запросы по дефолту) и видим выхлоп приложения питона в elasticsearch.

# Локальные тесты
Первым делом - установить зависимости:
```sh
cd {path_to_app}
pip install -r requirements.txt
```
Сами тесты:
```sh
python -m unittest discover -s tests
```
